{% load static %}
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="description" content="(ì£¼)ë§ê³ ì†Œí”„íŠ¸"/>
    <meta http-equiv="imagetoolbar" content="no">
    <meta http-equiv="Cache-Control" content="No-Cache">
    <meta http-equiv="Pragma" content="No-Cache">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="title" content="(ì£¼)ë§ê³ ì†Œí”„íŠ¸"/>
    <meta name="keywords" content="(ì£¼)ë§ê³ ì†Œí”„íŠ¸"/>
    <meta name="robots" content="index, follow"/>
    <meta name="description" content="(ì£¼)ë§ê³ ì†Œí”„íŠ¸"/>

    <meta property="og:type" content="website"/>
    <meta property="og:site_name" content="(ì£¼)ë§ê³ ì†Œí”„íŠ¸"/>
    <meta property="og:title" content="(ì£¼)ë§ê³ ì†Œí”„íŠ¸"/>
    <meta property="og:description" content="(ì£¼)ë§ê³ ì†Œí”„íŠ¸"/>
    <meta property="og:image" content="img/"/>
    <meta property="og:url" content="URL"/>

    <meta property="twitter:card" content="summary"/>
    <meta property="twitter:site" content="(ì£¼)ë§ê³ ì†Œí”„íŠ¸"/>
    <meta property="twitter:title" content="(ì£¼)ë§ê³ ì†Œí”„íŠ¸"/>
    <meta property="twitter:description" content="(ì£¼)ë§ê³ ì†Œí”„íŠ¸"/>
    <meta property="twitter:image" content="img/"/>
    <meta property="twitter:url" content="URL"/>

    <title>(ì£¼)ë§ê³ ì†Œí”„íŠ¸</title>
    <link rel="shortcut icon" href="{% static "img/favicon.ico" %}"/>

    <!-- css íŒŒì¼ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"/>

    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js" integrity="sha512-IQLehpLoVS4fNzl7IfH8Iowfm5+RiMGtHykgZJl9AWMgqx0AmJ6cRWcB+GaGVtIsnC4voMfm8f2vwtY+6oPjpQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js" integrity="sha512-nTHzMQK7lwWt8nL4KF6DhwLHluv6dVq/hNnj2PBN0xMl2KaMm1PM02csx57mmToPAodHmPsipoERRNn4pG7f+Q==" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static "css/style.css" %}">

    <!-- js íŒŒì¼ -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.12.0/matter.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/Draggable.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.js"></script>

    <script defer="defer" src="{% static "js/loader.js" %}"></script>
    <script defer="defer" src="{% static "js/main.js" %}"></script>
    <script src="{% static "js/jquery.smooth-scroll.js" %}"></script>
    <script defer="defer" src="{% static "js/portfolio.js" %}"></script>

  </head>

  <body>

    <div id="loader">
      <!-- <i class='bx bx-loader-circle bx-spin'></i> -->
      <img src="{% static "img/loadingg.gif" %}" alt="ë‹¤ìŒí˜ì´ì§€">
    </div>
    <section class="header">
      <div class="inner">
        <div class="header__wrap">
          <a href="/"><img class="logo" src="{% static "img/logo.png" %}" alt="ë¡œê³ "></a>
          <div class="subpage-title subpage-title_con">Contact</div>
          <div class="header__menu">
            <div class="menu-open">
              <div class="menu-btn">
                Menu
              </div>
              <div class="menu-lst">
                <ul>
                  <a href="/about">
                    <li>About</li>
                  </a>
                  <a href="/portfolio">
                    <li>Portfolio</li>
                  </a>
                  <a href="/contact">
                    <li>Contact</li>
                  </a>
                </ul>
              </div>
              <div class="menu">
                <svg xmlns="http://www.w3.org/2000/svg" width="26.964" height="8.566" viewbox="0 0 26.964 8.566">
                  <g data-name="ê·¸ë£¹ 3">
                    <path class="line1" data-name="ì„  1" transform="translate(0 1)" style="fill:none;stroke:#434343;stroke-width:2px" d="M0 0h20.957"/>
                    <path class="line2" data-name="ì„  2" transform="translate(8.625 7.566)" style="fill:none;stroke:#434343;stroke-width:2px" d="M0 0h18.338"/>
                  </g>
                </svg>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section id="contactPage01">
        <div class="inner">
          <div class="contactPage01_text-container">ë§Œë‚˜ì„œ ë°˜ê°€ì›Œìš”.<br>
            ì–´ë–¤ ì—…ë¬´ë¡œ ì˜¤ì…¨ë‚˜ìš”?ğŸ£</div>
          <div class="contactPage01_container">
            <p class="contactPage01_subtitle">í•„ìš”í•˜ì‹  ì„œë¹„ìŠ¤ë¥¼ ëª¨ë‘ ì„ íƒí•´ ì£¼ì„¸ìš”</p>
            <div class="contactPage01_chk-box">
              <input type="checkbox" name="service" id="web" value="0">
              <label for="web">ì›¹ì‚¬ì´íŠ¸</label>
              <input type="checkbox" name="service" id="app" value="1">
              <label for="app">ì•±ê°œë°œ</label>
              <input type="checkbox" name="service" id="bibx" value="2">
              <label for="bibx">BI/BX</label>
              <input type="checkbox" name="service" id="makt" value="3">
              <label for="makt">ë§ˆì¼€íŒ…</label>
              <input type="checkbox" name="service" id="mt" value="4">
              <label for="mt">ìœ ì§€ë³´ìˆ˜</label>
              <input type="checkbox" name="service" id="film" value="5">
              <label for="film">ì˜ìƒì œì‘</label>
              <input type="checkbox" name="service" id="cat" value="6">
              <label for="cat">ì¹´íƒˆë¡œê·¸</label>
              <input type="checkbox" name="service" id="consult" value="7">
              <label for="consult">ì»¨ì„¤íŒ…</label>
              <input type="checkbox" name="service" id="inter" value="8">
              <label for="inter">ì¸í„°ë·°ìš”ì²­</label>
              <input type="checkbox" name="service" id="etc" value="9">
              <label for="etc">ê¸°íƒ€ë¬¸ì˜</label>
            </div>
          </div>
          <div class="contactPage_btn">
            <button class="prevbtn" style="visibility: hidden;"><img src="{% static "img/contactprev.png" %}" alt="ì´ì „"></button>
            <button class="nextbtn"><img src="{% static "img/contactnext.png" %}" alt="ë‹¤ìŒ"></button>
          </div>
        </div>
      </section>
      <section id="contactPage02">
        <div class="inner">
          <div class="contactPage02_container-row">
            <div class="contactPage02_text-container">ì˜ë¢°ìë‹˜ì˜<br>
              ì •ë³´ê°€ í•„ìš”í•´ìš” ğŸ¥</div>
            <div class="contactPage02_container">
              <div class="contactPage02_chk-box">
                <input type="text" name="company" id="company" placeholder="íšŒì‚¬ëª…" oninput="allowOnlyWords(this)">
                <input type="text" name="contactName" id="contactName" placeholder="ë‹´ë‹¹ìëª…" oninput="allowOnlyWords(this)">
                <input type="text" name="contactTel" id="contactTel" placeholder="ì—°ë½ì²˜" oninput="allowOnlyNumbers(this)" maxlength="11">
                <input type="text" name="contactE" id="contactE" placeholder="ì´ë©”ì¼">
              </div>
            </div>
          </div>
          <div class="contactPage_btn">
            <button class="prevbtn"><img src="{% static "img/contactprev.png" %}" alt="ì´ì „"></button>
            <button class="nextbtn"><img src="{% static "img/contactnext.png" %}" alt="ë‹¤ìŒ"></button>
          </div>
        </div>
      </section>
      <section id="contactPage03">
        <div class="inner">
          <div class="contactPage03_text-container">ì–´ë–¤ ë¶€ë¶„ì„<br>
            ì˜ë¢°í•˜ì‹œëŠ”ê±´ê°€ìš”?ğŸ£</div>
          <div class="contactPage03_container">
            <p class="contactPage03_subtitle">ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
            <div class="contactPage03_chk-box">
              <input type="checkbox" name="request" id="build" value="0">
              <label for="build">ì‹ ê·œ êµ¬ì¶•</label>
              <input type="checkbox" name="request" id="renewbuild" value="1">
              <label for="renewbuild">ê°œì„  êµ¬ì¶•</label>
              <input type="checkbox" name="request" id="consulting" value="2">
              <label for="consulting">ì»¨ì„¤íŒ…</label>
              <input type="checkbox" name="request" id="mtn" value="3">
              <label for="mtn">ìœ ì§€ë³´ìˆ˜</label>
              <input type="checkbox" name="request" id="etcc" value="4">
              <label for="etcc">ê¸°íƒ€</label>
            </div>
          </div>
          <div class="contactPage_btn">
            <button class="prevbtn"><img src="{% static "img/contactprev.png" %}" alt="ì´ì „"></button>
            <button class="nextbtn"><img src="{% static "img/contactnext.png" %}" alt="ë‹¤ìŒ"></button>
          </div>
        </div>
      </section>
      <section id="contactPage04">
        <div class="inner">
          <div class="contactPage04_text-container">í”„ë¡œì íŠ¸ì˜ ì˜ˆìƒì¼ì •ì„<br>
            ì…ë ¥í•´ ì£¼ì„¸ìš” ï¿½</div>
          <div class="contactPage04_container">
            <div class="contactPage04_date-box">
              <input type="text" id="fromY" name="fromY" oninput="allowOnlyNumbers(this)" maxlength="4">
              <label for="fromY">ë…„</label>
              <input type="text" id="fromM" name="fromM" oninput="allowOnlyNumbers(this)" maxlength="2">
              <label for="fromM">ì›”</label>
              <input type="text" id="fromD" name="fromD" oninput="allowOnlyNumbers(this)" maxlength="2">
              <label for="fromD">ì¼</label>
            </div>
            <p>~</p>
            <div class="contactPage04_date-box">
              <input type="text" id="toY" name="toY" oninput="allowOnlyNumbers(this)" maxlength="4">
              <label for="toY">ë…„</label>
              <input type="text" id="toM" name="toM" oninput="allowOnlyNumbers(this)" maxlength="2">
              <label for="toM">ì›”</label>
              <input type="text" id="toD" name="toD" oninput="allowOnlyNumbers(this)" maxlength="2">
              <label for="toD">ì¼</label>
            </div>
          </div>
          <div class="contactPage_btn">
            <button class="prevbtn"><img src="{% static "img/contactprev.png" %}" alt="ì´ì „"></button>
            <button class="nextbtn"><img src="{% static "img/contactnext.png" %}" alt="ë‹¤ìŒ"></button>
          </div>
        </div>
      </section>
      <section id="contactPage05">
        <div class="inner">
          <div class="contactPage05_container-row">
            <div class="contactPage05_text-container">ëŒ€ëµì ì¸ ì˜ˆì‚°ì´
              <br>
              ê¶ê¸ˆí•´ìš” !
            </div>
            <div class="contactPage05_container">
              <div class="contactPage05_chk-box">
                <input type="checkbox" name="budget" id="1000" value="1ì²œ ë¯¸ë§Œ">
                <label for="1000">1ì²œ ë¯¸ë§Œ</label>
                <input type="checkbox" name="budget" id="1500" value="1~5ì²œ">
                <label for="1500">1~5ì²œ</label>
                <input type="checkbox" name="budget" id="5000" value="5ì²œ~1ì–µ">
                <label for="5000">5ì²œ~1ì–µ</label>
                <input type="checkbox" name="budget" id="10000" value="1~2ì–µ">
                <label for="10000">1~2ì–µ</label>
                <input type="checkbox" name="budget" id="20000" value="2~3ì–µ">
                <label for="20000">2~3ì–µ</label>
                <input type="checkbox" name="budget" id="30000" value="3ì–µ ì´ìƒ">
                <label for="30000">3ì–µ ì´ìƒ</label>
              </div>
            </div>
          </div>
          <div class="contactPage_btn">
            <button class="prevbtn"><img src="{% static "img/contactprev.png" %}" alt="ì´ì „"></button>
            <button class="nextbtn"><img src="{% static "img/contactnext.png" %}" alt="ë‹¤ìŒ"></button>
          </div>
        </div>
      </section>
      <section id="contactPage06">
        <div class="inner">
          <div class="contactPage06_container-row">
            <div class="contactPage06_text-container">
              <input type="checkbox" class="ui-checkbox" id="agreeChek">
              <p>ê°œì¸ì •ë³´ ë³´í˜¸ì •ì±…ì— ë™ì˜í•©ë‹ˆë‹¤.</p>
            </div>
          </div>
          <div class="contactPage_btn">
            <button class="prevbtn" style="visibility: hidden;"><img src="{% static "img/contactprev.png" %}" alt="ì´ì „"></button>
            <button class="nextbtn"><img src="{% static "img/contactnext.png" %}" alt="ë‹¤ìŒ"></button>
          </div>
        </div>
      </section>
      <section id="contactPage07">
        <div class="inner">
          <div class="contactPage07_text-container">ì˜ë¢°ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.
            <br>ê²€í† í›„ ì—°ë½ ë“œë¦¬ê² ìŠµë‹ˆë‹¤ :)
          </div>
          <div class="contactPage_btn">
            <button class="prevbtn" style="visibility: hidden;"><img src="{% static "img/contactprev.png" %}" alt="ì´ì „"></button>
            <button class="nextbtn"><img src="{% static "img/FINbtn.png" %}" alt="ë"></button>
          </div>
        </div>
      </section>
      <!-- matter -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.14.2/matter.min.js"></script>
      <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
      <script>
        function allowOnlyWords(input) {
          input.value = input
            .value
            .replace(/[^\wã„±-ã…|ã…-ã…£|ê°€-í£|á†|á†¢|ã†|á†¢|á„€á†|á„‚á†|á„ƒá†|á„…á†|á„†á†|á„‡á†|á„‰á†|á„‹á†|á„Œá†|á„á†|á„á†|á„á†|á„‘á†|á„’á†]/gi, '')
        }

        function autoHypenPhone(input) {
          value = input
            .value
            .replace(/[^0-9]/g, '');
          var newValue = '';
          if (value.length < 5) {
            newValue = value;
          } else if (value.length < 7) {
            newValue += value.substr(0, 4);
            newValue += '-';
            newValue += value.substr(4);
          } else {
            newValue += value.substr(0, 4);
            newValue += '-';
            newValue += value.substr(4, 2);
            newValue += '-';
            newValue += value.substr(6);
          }
          input.value = newValue;
        };

        function allowOnlyNumbers(input) {
          const numberRegex = /^[0-9]*$/;
          if (!numberRegex.test(input.value)) {
            input.value = input
              .value
              .replace(/[^0-9]/g, '')
          };
        }

        const prevbtn = document.getElementsByClassName('prevbtn');
        prevbtn[1].addEventListener('click', function () {
          document
            .getElementById('contactPage01')
            .style
            .display = 'flex';
          document
            .getElementById('contactPage02')
            .style
            .display = 'none';
        });

        prevbtn[2].addEventListener('click', function () {
          document
            .getElementById('contactPage02')
            .style
            .display = 'flex';
          document
            .getElementById('contactPage03')
            .style
            .display = 'none';
        });

        prevbtn[3].addEventListener('click', function () {
          document
            .getElementById('contactPage03')
            .style
            .display = 'flex';
          document
            .getElementById('contactPage04')
            .style
            .display = 'none';
        });

        prevbtn[4].addEventListener('click', function () {
          document
            .getElementById('contactPage04')
            .style
            .display = 'flex';
          document
            .getElementById('contactPage05')
            .style
            .display = 'none';
        });
        prevbtn[5].addEventListener('click', function () {
          document
            .getElementById('contactPage05')
            .style
            .display = 'flex';
          document
            .getElementById('contactPage06')
            .style
            .display = 'none';
        });

        // ë³€ìˆ˜ ì´ˆê¸°í™”
        const nextBtn = document.getElementsByClassName('nextbtn');
        var service;
        var selectedService = [];
        var company;
        var contactName;
        var contactTel;
        var contactE;
        var request;
        var selectedRequest = [];
        var fromY,
          fromM,
          fromD,
          toY,
          toM,
          toD;
        var budget;
        var selectedBudget = [];

        nextBtn[0].addEventListener('click', function () {
          service = document.getElementsByName("service");
          selectedService = [];
          service.forEach(checkbox => {
            if (checkbox.checked) {
              selectedService.push(checkbox.value);
            }
          });
          if (selectedService.length === 0) {
            alert("í•˜ë‚˜ ì´ìƒì˜ ì˜µì…˜ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.");
            return;
          }
          document
            .getElementById('contactPage01')
            .style
            .display = 'none';
          document
            .getElementById('contactPage02')
            .style
            .display = 'flex';
        });

        nextBtn[1].addEventListener('click', function () {
          company = document
            .getElementById("company")
            .value;
          contactName = document
            .getElementById("contactName")
            .value;
          contactTel = document
            .getElementById("contactTel")
            .value;
          contactE = document
            .getElementById("contactE")
            .value;
          if (!(company || contactName || contactTel || contactE)) {
            alert("í•˜ë‚˜ ì´ìƒì˜ ì •ë³´ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
            return;
          }
          document
            .getElementById('contactPage02')
            .style
            .display = 'none';
          document
            .getElementById('contactPage03')
            .style
            .display = 'flex';
        });

        nextBtn[2].addEventListener('click', function () {
          request = document.getElementsByName("request");
          selectedRequest = [];
          request.forEach(checkbox => {
            if (checkbox.checked) {
              selectedRequest.push(checkbox.value);
            }
          });
          if (selectedRequest.length === 0) {
            alert("í•˜ë‚˜ ì´ìƒì˜ ì˜µì…˜ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.");
            return;
          }
          document
            .getElementById('contactPage03')
            .style
            .display = 'none';
          document
            .getElementById('contactPage04')
            .style
            .display = 'flex';
        });

        nextBtn[3].addEventListener('click', function () {
          fromY = document
            .getElementById("fromY")
            .value;
          fromM = document
            .getElementById("fromM")
            .value;
          fromD = document
            .getElementById("fromD")
            .value;
          toY = document
            .getElementById("toY")
            .value;
          toM = document
            .getElementById("toM")
            .value;
          toD = document
            .getElementById("toD")
            .value;
          if (!((fromY && fromM && fromD) || (toY && toM && toD))) {
            alert("ë‚ ì§œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
            return;
          }
          document
            .getElementById('contactPage04')
            .style
            .display = 'none';
          document
            .getElementById('contactPage05')
            .style
            .display = 'flex';
        });

        nextBtn[4].addEventListener('click', function () {
          budget = document.getElementsByName("budget");
          selectedBudget = [];
          budget.forEach(checkbox => {
            if (checkbox.checked) {
              selectedBudget.push(checkbox.value);
            }
          });
          if (selectedBudget.length === 0) {
            alert("í•˜ë‚˜ì˜ ì˜µì…˜ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.");
            return;
          }
          if (selectedBudget.length != 1) {
            alert("í•˜ë‚˜ì˜ ì˜µì…˜ë§Œ ì„ íƒí•´ ì£¼ì„¸ìš”.");
            return;
          }
          document
            .getElementById('contactPage05')
            .style
            .display = 'none';
          subscription();
          document
            .getElementById('contactPage06')
            .style
            .display = 'flex';
        });

        nextBtn[5].addEventListener('click', function () {
          agreeChek = document.getElementById("agreeChek");
          if (!agreeChek.checked) {
            alert("ê°œì¸ì •ë³´ ë³´í˜¸ì •ì±…ì— ë™ì˜í•´ì£¼ì„¸ìš”.");
            return
          }
          document
            .getElementById('contactPage06')
            .style
            .display = 'none';
          subscription();
          document
            .getElementById('contactPage07')
            .style
            .display = 'flex';
        });

        const subscription = async () => {
          if (!(`${fromY}${fromM}${fromD}`)) {
            fromY = "2024";
            fromM = "01";
            fromD = "01";
          }
          if (!(`${toY}${toM}${toD}`)) {
            toY = "2030";
            toM = "12";
            toD = "31";
          }
          var fromDate = `${fromY.padStart(4, '20')}-${fromM.padStart(2, '0')}-${fromD.padStart(2, '0')}`;
          var toDate = `${toY.padStart(4, '20')}-${toM.padStart(2, '0')}-${toD.padStart(2, '0')}`;

          const formData = new FormData();
          console.log(selectedService)
          formData.append("service", selectedService);
          formData.append("company_name", company);
          formData.append("manager_name", contactName);
          formData.append("phone", contactTel);
          formData.append("email", contactE);
          formData.append("request", selectedRequest);
          formData.append("started", fromDate);
          formData.append("ended", toDate);
          formData.append("budget", selectedBudget[0]);
          console.log(formData);
          try {
            let res = await axios({
              url: `${location.origin}/request/`,
              method: "POST",
              headers: {
                "X-CSRFToken": "{{csrf_token}}",
                "Accept": "application/json",
                "Content-Type": "multipart/form-data"
              },
              data: formData
            });
            alert("ë¬¸ì˜ ê°ì‚¬í•©ë‹ˆë‹¤.\ní™•ì¸ í›„ ë‹µë³€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.");
            window.location.href = "/contact";
          } catch (e) {
            let res_data = e.response.data

            if (res_data["non_field_errors"]) {
              alert(res_data["non_field_errors"][0])
              return
            };
          };
          // window.location.reload();
        };
      </script>
    </body>

  </html>
